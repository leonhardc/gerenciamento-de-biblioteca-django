<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./../../templates/static/bootstrap/css/bootstrap.css"> 
    <title>Document</title>
    <style>
        .error {
            color: red; 
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Formulario de inserção de aluno na base de dados -->
        <h4 class="text-center mb-4">Inserir Aluno</h4>
        <form action="" method="POST" class="px-4">
            <div class="row mb-2">
                <div class="col">
                    <label for="nome" class="form-label" id="label-nome">Nome</label>            
                    <input required type="text" id="nome" name="nome" class="form-control" placeholder="Digite o nome do Aluno">
                    <span class="error" id="span-error-nome"></span>
                </div>                
                <div class="col">
                    <label for="sobrenome" class="form-label" id="label-sobrenome">Sobrenome</label>
                    <input required type="text" id="sobrenome" name="sobrenome" class="form-control" placeholder="Digite o sobrenome do Aluno">
                    <span class="error" id="span-error-sobrenome"></span>
                </div>
            </div>
            <div class="row mb-2">
                <div class="col">
                    <div class="mb-4">
                        <label for="email" class="form-label" id="label-email">Email</label>
                        <input required type="text" id="email" name="email" class="form-control" placeholder="Digite o email do Aluno">
                        <span class="error" id="span-error-email"></span>
                    </div>
                    
                    <div class="row">
                        <div class="col">
                            <label for="ingresso" class="form-label" id="label-data-ingresso">Data de Ingresso no Curso</label>
                            <input required type="date" id="ingresso" name="data-ingresso" class="form-control">
                            <span class="error" id="span-error-data-ingresso"></span>
                        </div>
                        <div class="col">
                            <label for="conclusao" class="form-label" id="label-data-conclusão">Data de Conclusão prevista</label>
                            <input required type="date" id="conclusao" name="data-conclusao" class="form-control">
                            <span class="error" id="span-error-data-conclusao"></span>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="mb-4">
                        <label for="senha" class="form-label" id="label-senha">Senha</label>
                        <input required type="text" id="senha" name="senha" class="form-control" placeholder="Digite a senha do Aluno">
                        <span class="error" id="span-error-senha"></span>
                    </div>
                    <div class="mb-4">
                        <label for="senha-confirm" class="form-label" id="label-senha-confirm">Confirmar Senha</label>
                        <input required type="text" id="senha-confirm" name="senha-confirm" class="form-control" placeholder="Confirme a senha do Aluno">
                        <span class="error" id="span-error-senha-confirm"></span>
                    </div>
                </div>
            </div>
            
            <div class="row mb-4">
                <div class="col">
                    <label for="imagem" class="form-label">Imagem de Perfil</label>
                    <input type="file" id="imagem" name="imagem" class="form-control" accept="image/png, image/jpeg">
                </div>
                <div class="col">
                    <label for="telefone" class="form-label" id="label-telefone">Telefone/Celular</label>
                    <input required type="text" id="telefone" name="telefone" class="form-control">
                    <span class="error" id="span-error-telefone"></span>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <button class="btn btn-primary">Adicionar Aluno</button>
            </div>
        </form>
        <script>
            // Inserir validação dos campos do formulário
            var submitButton = document.querySelector("#submit")
            function validarNome(){
                const nome = document.querySelector('#nome')
                var erroNome = document.querySelector("#span-error-nome")
                var labelNome = document.querySelector("#label-nome")
                if (/[@!#$%^&*()/\\0-9]/.test(nome.value)){
                    labelNome.style.color = "red"
                    nome.style.borderColor = "red"
                    nome.style.color = "red"
                    erroNome.textContent = "O nome do aluno não pode conter números ou caracteres especiais."
                    submitButton.disabled = true
                }
                else {
                    labelNome.style.color = "black"
                    nome.style.border = "var(--bs-border-width) solid var(--bs-border-color)"
                    nome.style.borderColor = "black"
                    erroNome.textContent = ""
                    submitButton.disabled = false
                }
            }

            function validarSobrenome(){
                var sobrenome = document.querySelector('#sobrenome')
                var erroSobrenome = document.querySelector("#span-error-sobrenome")
                var labelSobrenome = document.querySelector("#label-sobrenome")
                if (/[@!#$%^&*()/\\0-9]/.test(sobrenome.value)){
                    labelSobrenome.style.color = "red"
                    sobrenome.style.borderColor = "red"
                    sobrenome.style.color = "red"
                    erroSobrenome.textContent = "O sobrenome do aluno não pode conter números ou caracteres especiais."
                    submitButton.disabled = true
                }
                else {
                    labelSobrenome.style.color = "black"
                    sobrenome.style.border = "var(--bs-border-width) solid var(--bs-border-color)"
                    sobrenome.style.borderColor = "black"
                    erroSobrenome.textContent = ""
                    submitButton.disabled = false
                }
            }

            function validarEmail(){
                var email = document.querySelector("#email")
                var labelEmail = document.querySelector("#label-email")
                var erroEmail = document.querySelector("#span")
            }

            function validarSenha(){
                // campo de senha
                var senha = document.querySelector("#senha")
                var labelSenha = document.querySelector("#label-senha")]
                var erroSenha = document.querySelector("#span-error-senha")
                // campo de confirmação de senha
                var senhaConfirm = document.querySelector("#senha-confirm")
                var labelSenhaConfirm = document.querySelector("#label-senha-confirm")
                var erroSenhaConfirm = document.querySelector("#span-error-senha-confirm")

                // validação
                if (senha.value.length == 0){
                    submitButton.disabled = true
                    senha.style.color = "red"
                    senha.style.borderColor = "red"
                    labelSenha.stule.color = "red"
                    erroSenha.textContent = "\nO campo de senha não pode ser vazio."
                }
                if (senhaConfirm.value.length == 0){
                    submitButton.disabled = true
                    senhaConfirm.style.color = "red"
                    senhaConfirm.style.borderColor = "red"
                    labelSenhaConfirm.stule.color = "red"
                    erroSenhaConfirm.textContent = "\nO campo de confirmação de senha não pode ser vazio."
                }
                if (senha.value !== senhaConfirm.value) {
                    submitButton.disabled = true
                    senha.style.color = "red"
                    senha.style.borderColor = "red"
                    labelSenha.stule.color = "red"
                    senhaConfirm.style.color = "red"
                    senhaConfirm.style.borderColor = "red"
                    labelSenhaConfirm.stule.color = "red"
                    erroSenhaConfirm.textContent = "\nAs duas senhas digitadas não são iguais."
                }

            }

            function validarData(){}

            document.querySelector("#nome").addEventListener("keyup", validarNome)
            document.querySelector("#sobrenome").addEventListener("keyup", validarSobrenome)
            document.querySelector("#senha-confirm").addEventListener("blur", validarSenha)
        </script>
    </div>
</body>
</html>